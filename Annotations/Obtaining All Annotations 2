//Show all annotations for a class and a method
package annotations;

import java.lang.annotation.Annotation;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.reflect.Method;

@Retention(RetentionPolicy.RUNTIME)
@interface MyAnno{
	String str();
	int val();
}

@Retention(RetentionPolicy.RUNTIME)
@interface What{
	String description();
}

@What(description = "An annotation test class")
@MyAnno(str="Meta2",val=99)

public class ObtainingAllAnnotations {
	@What(description = "An annotion test method")
	@MyAnno(str = "Testing",val = 100)
	public static void myMeth() {
		ObtainingAllAnnotations ob=new ObtainingAllAnnotations();
		try {
			Annotation[] annos = ob.getClass().getAnnotations();
			//displat all annotations for the class
			System.out.println("All Annotations for the class:");
			for(Annotation a:annos) {
				System.out.println(a);
			}
			System.out.println();
			Method m = ob.getClass().getMethod("myMeth");
			annos=m.getAnnotations();
			System.out.println("All annotations for the method: ");
			for(Annotation a:annos)
				System.out.println(a);
		} catch (NoSuchMethodException e) {
			System.out.println("No such method found");
		}
	}
	
	public static void main(String[] args) {
		myMeth();
	}
}
